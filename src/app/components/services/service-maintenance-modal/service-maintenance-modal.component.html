<!--
~ Copyright (C) <2015>  <it-novum GmbH>
~
~ This file is dual licensed
~
~ 1.
~     This program is free software: you can redistribute it and/or modify
~     it under the terms of the GNU General Public License as published by
~     the Free Software Foundation, version 3 of the License.
~
~     This program is distributed in the hope that it will be useful,
~     but WITHOUT ANY WARRANTY; without even the implied warranty of
~     MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
~     GNU General Public License for more details.
~
~     You should have received a copy of the GNU General Public License
~     along with this program.  If not, see <http://www.gnu.org/licenses/>.
~
~ 2.
~     If you purchased an openITCOCKPIT Enterprise Edition you can use this file
~     under the terms of the openITCOCKPIT Enterprise Edition license agreement.
~     License agreement and license key will be shipped with the order
~     confirmation.
-->

<ng-container *transloco="let t">
    <c-modal
        #modal='cModal'
        [keyboard]="true"
        id="serviceMaintenanceModal"
        size="lg"
    >
        <c-modal-header>
            <h5 cModalTitle>
                <fa-icon [icon]="['fas', 'clock']"></fa-icon>
                {{ t('Set planned maintenance times') }}
            </h5>
            <button (click)="hideModal()" cButtonClose></button>
        </c-modal-header>
        <c-modal-body>

            <c-row>
                <c-col>
                    <div class="mb-3">
                        <label cLabel for="inputcomment">{{ t('Comment') }}</label>
                        <input cFormControl id="inputcomment"
                               [(ngModel)]="downtimeModal.comment">
                        @if (errors && errors.comment) {
                            <div cFormText>
                                @for (error of errors.comment; track error) {
                                    <div class="text-danger">{{ t(error) }}</div>
                                }
                            </div>
                        }
                    </div>
                </c-col>
            </c-row>
            <c-row>
                <c-col>
                    <label>{{ t('From') }}:</label>
                    <input id="downtimeModal.from_date" [(ngModel)]="downtimeModal.from_date" type="date"
                           class="form-control">
                    <input id="downtimeModal.from_time" class="form-control mt-1"
                           [(ngModel)]="downtimeModal.from_time"
                           type="time">
                    @if (errors && errors.from_date) {
                        <div cFormText>
                            @for (error of errors.from_date; track error) {
                                <div class="text-danger">{{ t(error) }}</div>
                            }
                        </div>
                    }
                    @if (errors && errors.from_time) {
                        <div cFormText>
                            @for (error of errors.from_time; track error) {
                                <div class="text-danger">{{ t(error) }}</div>
                            }
                        </div>
                    }
                </c-col>
                <c-col>
                    <label>{{ t('To') }}:</label>
                    <input id="downtimeModal.to_date" [(ngModel)]="downtimeModal.to_date" type="date"
                           class="form-control">
                    <input id="downtimeModal.to_time" class="form-control mt-1"
                           [(ngModel)]="downtimeModal.to_time"
                           type="time">
                    @if (errors && errors.to_date) {
                        <div cFormText>
                            @for (error of errors.to_date; track error) {
                                <div class="text-danger">{{ t(error) }}</div>
                            }
                        </div>
                    }
                    @if (errors && errors.to_time) {
                        <div cFormText>
                            @for (error of errors.to_time; track error) {
                                <div class="text-danger">{{ t(error) }}</div>
                            }
                        </div>
                    }
                </c-col>
            </c-row>

        </c-modal-body>
        <c-modal-footer>
            <button (click)="setExternalCommands()" [disabled]="isSend" cButton class="ripple" color="success">
                <fa-icon [hidden]="!isSend" [icon]="['fas', 'spinner']" animation="spin"></fa-icon>
                {{ t('Save') }}
            </button>
            <button (click)="hideModal()" cButton class="ripple" color="default">
                {{ t('Cancel') }}
            </button>
        </c-modal-footer>
    </c-modal>
</ng-container>


